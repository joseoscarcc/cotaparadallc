{% extends 'base.html' %}

{% block content %}
<section class="py-5">
    <div class="container px-5 mb-5">
        <div class="text-center mb-5">
            <h1 class="display-5 fw-bolder mb-0"><span class="text-gradient d-inline">Proceder al pago</span></h1>
        </div>
        <div class="row gx-5 justify-content-center">
            <div class="col-lg-11 col-xl-9 col-xxl-8">
                <!-- Project Card 1-->
                <div class="container justify-content-center">
                    <div class="row mx-auto">
                      <div class="col-12 col-sm-8 col-md-6 col-lg-12">
                        <div class="card">
                          
                          <div class="card-img-overlay d-flex justify-content-end">
                            <a href="#" class="card-link text-danger like">
                              <i class="fas fa-heart"></i>
                            </a>
                          </div>
                          <img class="card-img mx-auto" src="{{url_for('static', filename='portada01.png')}}" style="width: 250px; height: auto;">
                          <div class="card-body">
                            <h4 class="card-title">Revisa tu orden</h4>
                            <h6 class="card-subtitle mb-2 text-muted">Correo eléctronico de envio:</h6>
                            <p class="card-text">
                            Email: {{email}}
                            </p>
                            <h6 class="card-subtitle mb-2 text-muted">Descripción:</h6>
                            <p class="card-text">
                            Quiero viajar más, versión en español 
                            </p>
                            <div class="card-text fw-bolder">
                              por José Oscar Cota
                              <p class="options text-danger">
                                Fecha de entrega: 30 de noviembre
                              </p>
                            </div>
                            
                            <div class="buy d-flex justify-content-between align-items-center">
                                <div class="price text-success">
                                    <h5 class="mt-4"><del>$430</del> $215 (50% descuento)</h5>
                                  </div>
                          
                            </div>
                            <div id="wallet_container"></div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
            </div>
        </div>
    </div>
</section>
<!-- SDK MercadoPago.js -->
<script src="https://sdk.mercadopago.com/js/v2"></script>
<script>
    const preferenceId = "{{ preference_id }}";
    const MP_TOKEN_DEV = "{{ MP_TOKEN_DEV }}";

    const mp = new MercadoPago(MP_TOKEN_DEV);
    const bricksBuilder = mp.bricks();
    mp.bricks().create("wallet", "wallet_container", {
    initialization: {
        preferenceId: preferenceId,
        redirectMode: "self"
    },
    texts: {
          action: 'buy',
          valueProp: 'security_details',
      },
    });
</script>
{% endblock %}
